<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title class="heading">Lagerverwaltung</title>

    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/css/lagerverwaltung-style.css}">
</head>
<body>
<div class="title-bar">
    <h1 class="heading">Lagerverwaltung</h1>
</div>

<div class="vertical-bar">
    <p></p>
</div>

<div class="header">
    <button class="button button-startseite" onclick="openLink('/organisation')"><a>Zurück</a></button>
    <hr class="linetop">
</div>

<div>
    <aside style="width:60%">
        <input class="input-rechts" type="text" placeholder="Artikelnummer"><br><br>
        <input class="input-rechts" type="text" placeholder="Faktor"><br><br>
        <input class="input-rechts" type="text" placeholder="VK">
        <button class="button button-rechts"><a>VK-Manuell</a></button><br><br>
        <input class="input-rechts" type="text" placeholder="Fassungscode"><br><br>
        <input class="input-rechts" type="text" placeholder="Datum"><br><br>
        <input class="input-rechts" type="checkbox" placeholder="Komission">
        <label>Komission</label><br>
        <button class="button" onclick="fillTable()"><a>Speichern</a></button>
        <button class="button"><a>Neu</a></button>
    </aside>
</div>

<div>
    <aside style="width:20%">
        <input class="input" type="text" placeholder="Modell"><br><br>
        <select class="select">
            <option>Farbe</option>
        </select><br><br>
        <select class="select">
            <option>Größe</option>
        </select><br><br>
        <select class="select">
           <option>Bügel</option>
        </select><br><br>
        <input class="input" type="text" placeholder="EK o. Mwst Rabatt"><br><br>
        <select class="select">
            <option>Bemerkung</option>
        </select><br><br>
    </aside>
</div>

<div>
    <select class="select">
      <option>Lieferanten</option>
    </select><br><br>
    <select class="select">
     <option>Verwendung</option>
    </select><br><br>
    <select class="select">
      <option>Gattung</option>
    </select><br><br>
    <select class="select">
      <option>Material</option>
    </select><br><br>
    <input class="input" type="text" placeholder="Anzahl"><br><br><br><br>
</div>

<div>
    <input class="input" type="text" placeholder="Suchen">
    <button class="button" type="submit" onclick="createTable()">Alles anzeigen</button>
</div>

<div class="table">
</div>

</body>
<script>
    function openLink(link) {
        window.location.href = link;
    }

    function searchOrder() {
        let auftragsNr = document.getElementById('auftragsNr').value;

        doRequest(
            'GET',
            '/api/auftrags/',
            auftragsNr,
            (jsonString) => {   // func
                let data = JSON.parse(jsonString);
                // alert(data.exception);
                createTable(data);
            });
    }

    function createTable() {
        if (document.getElementsByClassName('table')[0].firstElementChild !== null) {
            return false;
        } else {
            let tableContainer = document.getElementsByClassName('table')[0];
            let table = document.createElement('TABLE');
            let tableHead = document.createElement('THEAD');
            let tableBody = document.createElement('TBODY');
            const headings = [
                'ArtNr.',
                'Lieferant.',
                'Verwendung',
                'Gattung',
                'Material',
                'Model',
                'Farbe',
                'Größe',
                'Bügel',
                'EK',
                'Bemerkung',
                'Faktor',
                'VK',
                'Fa-Code',
                'Datum',
                'Kom',
            ];

            table.appendChild(tableHead);
            table.appendChild(tableBody);

            // Table Head
            let row1 = document.createElement('TR');

            headings
                .map((item) => {
                    let th = document.createElement('TH');
                    th.innerHTML = item.valueOf();
                    row1.appendChild(th);
                });

            tableHead.appendChild(row1);

            // Table Data
            let row2 = document.createElement('TR');

            for (let i = 1; i <= headings.length; i++) {
                let data = document.createElement('TD');
                data.innerHTML = 'test';

                row2.appendChild(data);
            }

            tableBody.appendChild(row2);

            tableContainer.appendChild(table);
        }
    }
</script>
</html>